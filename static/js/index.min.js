function setSlides(i,n){var t=i,e=t.children("ul"),s=n,r=clone(e,s);t.find(".slide-arrow").on("click",function(){$(this).hasClass("slide-arrow-next")?slideAuto(e,s,r):slidePrev(e,s,r)})}function appendThumb(i,n){i.children().each(function(i){var n=0==i?"thumb dis-ib cursor curr":"thumb dis-ib cursor";$("<span>").addClass(n).appendTo($("#banner p"))})}function clone(i,n){var t=0;return i.children().each(function(e){return n>e?($(this).clone().appendTo(i),void t++):!1}),i.width(activeWidth(i).wTotal),t}function activeWidth(i){var n=i.children().first(),t=n.outerWidth(!0),e=t*i.children().length;return{wTotal:e,wEach:t}}function newVar(i){var n=i[0].id;global[n]={i:0}}function slideAuto(i,n,t,e){var s=i[0].id;global.hasOwnProperty(s)||newVar(i);var r=global[s];num=i.children().length,wEach=activeWidth(i).wEach,void 0===e?(r.i<num-t?(r.i++,thumbSwitch(i,r.i<num-t?r.i:0)):(i.css("right",0),r.i=1,thumbSwitch(i,r.i)),i.stop(!0,!0).animate({right:r.i*wEach},300)):(i.stop(!0,!0).animate({right:e*wEach},300),thumbSwitch(i,e))}function slidePrev(i,n,t){var e=i[0].id;global.hasOwnProperty(e)||newVar(i);var s=global[e];num=i.children().length,wEach=activeWidth(i).wEach,offset=(num-t)*wEach,0==s.i?(i.css("right",offset),s.i=num-t-1,i.stop(!0,!0).animate({right:s.i*wEach},300)):(s.i--,i.stop(!0,!0).animate({right:s.i*wEach},300)),thumbSwitch(i,s.i)}function thumbSwitch(i,n){n=Math.abs(n),thumbs=i.parent().find(".thumb"),thumbs.filter(".curr").removeClass("curr"),thumbs.eq(n).addClass("curr")}define(function(i){function n(){$(document).scrollTop();r.each(function(i){$(document).scrollTop()>=$(this).offset().top&&($(o[i]).siblings(".linkTo").removeClass("curr"),$(o[i]).addClass("curr"))})}function t(){$(this).siblings(".linkTo").removeClass("curr"),$(this).addClass("curr")}$("#kw").on({focus:function(){$("#search-quick-kw").hide(0),$("#search-btn").addClass("search-btn-h")},blur:function(){""==$(this).val()&&$("#search-quick-kw").show(0),$("#search-btn").removeClass("search-btn-h")}}),$(".user-menu").hover(function(){$(this).find(".arrow").addClass("arrow-curr"),$(this).find(".user-menu-sub").fadeIn(70)},function(){$(this).find(".arrow").removeClass("arrow-curr"),$(this).find(".user-menu-sub").fadeOut(70)}),$("#nav-aside ul").on("mouseenter",function(){$(this).find(".sub").css("minHeight",$(this).outerHeight())}),$("#hotLessonTags li").each(function(i){var n=$(this);n.on("mouseenter",function(){n.siblings(".curr").removeClass("curr"),n.addClass("curr");var t=$("#hot-lessons .list");t.filter(".curr").removeClass("curr"),t.eq(i).addClass("curr")})}),$("#hot-lessons li").hover(function(){var i=$(this);i.find("p").not(".free-icon").stop(!0,!0).slideDown(180),i.find(".dis-n").fadeIn(180),i.css("zIndex",10),i.children("div").css("zIndex",10)},function(){var i=$(this);i.find("p").not(".free-icon").stop(!0,!0).slideUp(180),i.find(".dis-n").fadeOut(180),i.css("zIndex",0),i.children("div").css("zIndex",0)});var e,s=$(".learning-path a");s.hover(function(){e=s.index(this),e+1>5&&s.eq(e-5).addClass("border-b-colored")},function(){s.eq(e-5).filter(".border-b-colored").removeClass("border-b-colored")}),s.filter(".coming-soon").attr("href","javascript:void(0)").find("button").addClass("disabled").text("敬请期待");$(".wrapper .wiki dl a").css("transform-origin");$("#top").on("click",function(){$("html,body").animate({scrollTop:0},300)});var r=$(".linkTargets");r.each(function(i){r[i];li=document.createElement("li"),a=document.createElement("a"),$(a).attr({href:"#"+$(this).attr("id"),title:$(this).attr("id")}).html(i+1).appendTo($(li)),$(li).addClass("linkTo").insertBefore($("#top"))});var o=$(".linkTo");$(window).bind("scroll",n),n(),$(".linkTo").bind("click",t);var c,l;$("#online-service").hover(function(){var i=$("#online-service").width();c=$(this).find(".tips"),l=c.css("right"),c.stop(!1,!0).fadeIn(0).animate({right:i},100)},function(){c.stop(!1,!0).animate({right:l},100).fadeOut(100)}),$(".close").click(function(){$(this).parent().css("visibility","hidden")});var d=$("#banner"),h=d.children("ul"),u=d.find(".thumbs"),f=1;appendThumb(h,u);var v=clone(h,f),m=setInterval(function(){slideAuto(h,f,v)},1e3);d.hover(function(){clearInterval(m)},function(){m=setInterval(function(){slideAuto(h,f,v)},1e3)}),d.find(".slide-arrow").on("click",function(){$(this).hasClass("slide-arrow-next")?slideAuto(h,f,v):slidePrev(h,f,v)});var u=d.find(".thumb");u.each(function(i){$(this).on("click",function(){slideAuto(h,f,v,i)})}),setSlides($("#partners"),6),setSlides($("#schools"),7),setSlides($("#medias"),6)});var global={};